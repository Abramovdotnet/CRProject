{
  "id": "lost_and_found_earrings",
  "title": "Lost Earrings",
  "description": "{npc:3441} asks for help retrieving a valuable piece of jewelry {item:180}, which he lost in a card game.",
  "startingNPCId": 3441,
  "prerequisites": null,
  "stages": [
    {
      "id": "01_talk_to_loverboy",
      "objective": "Ask {npc:3441} about his problem.",
      "dialogueFilename": "Quest_Earrings_Start.json",
      "associatedNPCId": 3441,
      "activationActions": null,
      "completionConditions": [
        { "type": "checkGameFlag", "parameters": { "flagName": "earrings_quest_accepted", "value": 1 } }
      ],
      "completionActions": [
        { "type": "modifyStat", "parameters": { "target": "global", "stat": "gameFlag", "flagName": "earrings_stage1_complete", "value": 1 } }
      ]
    },
    {
      "id": "02_find_gambler",
      "objective": "Find {npc:3575}, who won {item:180}.",
      "dialogueFilename": "Quest_Earrings_Gambler.json",
      "associatedNPCId": 3575,
      "activationActions": null,
      "completionConditions": [
        { "type": "checkGameFlag", "parameters": { "flagName": "earrings_gambler_task_given", "value": 1 } }
      ],
      "completionActions": [
        { "type": "modifyStat", "parameters": { "target": "global", "stat": "gameFlag", "flagName": "earrings_stage2_complete", "value": 1 } }
      ]
    },
    {
      "id": "03_get_scroll_from_priest",
      "objective": "Obtain {item:268} from {npc:321}.",
      "dialogueFilename": "Quest_Earrings_Priest.json",
      "associatedNPCId": 321,
      "activationActions": null,
      "completionConditions": [
        { "type": "checkGameFlag", "parameters": { "flagName": "earrings_priest_interaction_complete", "value": 1 } }
      ],
      "completionActions": [
        { "type": "modifyStat", "parameters": { "target": "global", "stat": "gameFlag", "flagName": "earrings_stage3_complete", "value": 1 } }
      ]
    },
    {
      "id": "04_return_to_gambler",
      "objective": "Return to {npc:3575}.",
      "dialogueFilename": "Quest_Earrings_Gambler_Return.json",
      "associatedNPCId": 3575,
      "activationActions": null,
      "completionConditions": [
        { "type": "checkGameFlag", "parameters": { "flagName": "earrings_got_earrings_from_gambler", "value": 1 } }
      ],
      "completionActions": [
        { "type": "modifyStat", "parameters": { "target": "global", "stat": "gameFlag", "flagName": "earrings_stage4_complete", "value": 1 } }
      ]
    },
    {
      "id": "05_deliver_earrings_and_message",
      "objective": "Give {item:180} to {npc:6243} at {npc:3441}'s request.",
      "dialogueFilename": "Quest_Earrings_Loverboy_Return.json", 
      "associatedNPCId": 3441, 
      "activationActions": null,
      "completionConditions": [
        { "type": "checkGameFlag", "parameters": { "flagName": "earrings_recipient_got_earrings", "value": 1 } }
      ],
      "completionActions": [
        { "type": "modifyStat", "parameters": { "target": "global", "stat": "gameFlag", "flagName": "earrings_stage5_complete", "value": 1 } }
      ]
    },
    {
      "id": "06_final_report_to_loverboy",
      "objective": "Report {npc:6243}'s response to {npc:3441}.",
      "dialogueFilename": "Quest_Earrings_Loverboy_Final.json",
      "associatedNPCId": 3441,
      "activationActions": null,
      "completionConditions": [
        { "type": "checkGameFlag", "parameters": { "flagName": "earrings_final_report_done", "value": 1 } }
      ],
      "completionActions": null 
    }
  ],
  "rewards": {
    "coins": 500
  }
} 